<!DOCTYPE html>
<html lang="en" class="initial">
  <head>
        <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <link rel="icon" type="image/svg+xml" href="/cssnano/img/favicon.svg">
    <link rel="alternate icon" type="image/x-icon" href="/cssnano/img/favicon.ico">

    <link rel="sitemap" href="/cssnano/sitemap.xml">
    
    <link rel="stylesheet" href="/cssnano/styles/index.css">

    <link rel="canonical" href="https://cssnano.github.io/cssnano/docs/config-file/">

<!-- OpenGraph Tags -->
    <meta property="og:title" content="Configuration/">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/docs/config-file/">
    <meta property="og:locale" content="en">
    <meta name="description" property="og:description" content="CSSNANO - postcss based css optimizer">
    <meta property="og:site_name" content="CSSNANO documentation">


    <title>Configuration</title>
  </head>

  <body>
    <div class="navbar box">
  <a href="#article" class="sr-only skiplink"><span>Skip to Content</span></a>
  <nav class="cluster" title="Top Navigation">
    <a href="/cssnano/"> 
      <h1 class="sr-only">CSSNANO</h1>
      <img src="/cssnano/img/logo-alt.svg" alt="" width="160" height="32">
    </a>
    <span class="cluster">
    <a href="/cssnano/docs/introduction/">Guide</a>
    <a href="/cssnano/docs/what-are-optimisations/">Optimizations</a>
    <a href="/cssnano/playground/">Playground</a>
    <a href="/cssnano/docs/support-us/">Support</a>
    <a href="/cssnano/blog/">Blog</a>
    <a href="https://github.com/cssnano/cssnano" rel="noopener noreferrer" target="_blank">GitHub <svg class="icon" width="0.75em" height="0.75em" aria-hidden="true" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a>
    <a href="https://opencollective.com/cssnano" rel="noopener noreferrer" target="_blank">Donate <svg class="icon" width="0.75em" height="0.75em" aria-hidden="true" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a>
    </span>
  </nav>
</div>

    <main tabindex="-1" class="with-sidebar box">
      <aside id="grid-left" title="Documentation table of contents" class="sidebar">
  <nav aria-labelledby="grid-left">
    <ul class="stack">
      <li>
        <h2 class="f4">Getting Started</h2>
        <ul>
          <li class="nav-link"><a href="/cssnano/docs/introduction/">Introduction</a></li>
          <li class="nav-link"><a href="/cssnano/docs/getting-started/">Getting Started</a></li>
          <li class="nav-link"><a href="/cssnano/docs/config-file/" aria-current="page">Configuration</a></li>
          <li class="nav-link"><a href="/cssnano/docs/what-are-optimisations/">Optimisations</a></li>
          <li class="nav-link"><a href="/cssnano/docs/advanced-transforms/">Advanced Transforms</a></li>
        </ul>
      </li>
      <li>
        <h2 class="f4">Developer Guide</h2>
        <ul>
          <li class="nav-link"><a href="/cssnano/docs/contributing/">Contributing</a></li>
          <li class="nav-link"><a href="/cssnano/docs/changelog/">Changelog</a></li>
        </ul>
      </li>
    </ul>
  </nav>

</aside>

      <article id="article" class="not-sidebar stack">
        <div class="carbon_ads_mdx_wrapper"></div>
        
        <h1>Configuration</h1>
        
          <script>
            const carbonWrapper = document.querySelector('.carbon_ads_mdx_wrapper');
            const script = document.createElement('script');
            script.src = '//cdn.carbonads.com/carbon.js?serve=CEBI62JN&placement=cssnanoco';
            script.async = true;
            script.id = '_carbonads_js';
            carbonWrapper.appendChild(script);
          </script>
          
		      <p>You can configure cssnano either in the PostCSS configuration or in a dedicated cssnano configuration. The PostCSS configuration takes precedence over the dedicated cssnano configuration.
Without configuration, cssnano runs with the <code>default</code> preset.</p>
<h2 id="configuration-files" tabindex="-1"><a class="header-anchor" href="#configuration-files">Configuration files</a></h2>
<h3 id="configure-through-the-postcss-configuration" tabindex="-1"><a class="header-anchor" href="#configure-through-the-postcss-configuration">Configure through the PostCSS configuration</a></h3>
<p>In the <a href="https://github.com/postcss/postcss#usage">PostCSS configuration</a>, you can pass both the <code>preset</code> and <code>plugins</code> options when you add <code>cssnano</code> to the PostCSS plugins. For example, if you use PostCSS programmatically, the following uses cssnano with the <code>lite</code> preset and adds the autoprefixer plugin.</p>
<pre class="language-js" tabindex="0"><code class="language-js"><span class="token keyword">import</span> postcss <span class="token keyword">from</span> <span class="token string">'postcss'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> cssnano <span class="token keyword">from</span> <span class="token string">'cssnano'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> litePreset <span class="token keyword">from</span> <span class="token string">'cssnano-preset-lite'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> autoprefixer <span class="token keyword">from</span> <span class="token string">'autoprefixer'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> preset <span class="token operator">=</span> <span class="token function">litePreset</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">discardComments</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">postcss</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">cssnano</span><span class="token punctuation">(</span><span class="token punctuation">{</span> preset<span class="token punctuation">,</span> <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>autoprefixer<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span><span class="token string">"/* Your CSS here */"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h3 id="configure-through-a-dedicated-cssnano-configuration" tabindex="-1"><a class="header-anchor" href="#configure-through-a-dedicated-cssnano-configuration">Configure through a dedicated cssnano configuration</a></h3>
<p>You can configure cssnano with a dedicated configuration, for example if you cannot access the PostCSS configuration file. The cssnano configuration can be in different formats:</p>
<ul>
<li>a <code>cssnano</code> option in <code>package.json</code></li>
<li>a JSON file named <code>.cssnanorc.config.json</code> or <code>.cssnanorc</code></li>
<li>a file named <code>cssnano.config.js</code> that exports the configuration as a JavaScript object</li>
</ul>
<h2 id="configuration-options" tabindex="-1"><a class="header-anchor" href="#configuration-options">Configuration options</a></h2>
<h3 id="choose-a-preset" tabindex="-1"><a class="header-anchor" href="#choose-a-preset">Choose a preset</a></h3>
<ul>
<li><strong>option:</strong> <code>preset</code></li>
<li><strong>type:</strong> <code>string</code> | <code>function</code> | <code>[string, Objects&lt;preset options here&gt;]</code> | <code>[function(preset options here)]</code></li>
</ul>
<p>Pass a preset to choose a pre-configured set of optimizations. You can specify a preset with the preset name as a string or by passing the result of importing the preset package.</p>
<p>With the preset as import:</p>
<pre class="language-js" tabindex="0"><code class="language-js"><span class="token function">cssnano</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">preset</span><span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'cssnano-preset-default'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>Using a string is useful if you use a configuration file in the JSON format.</p>
<pre class="language-js" tabindex="0"><code class="language-js"><span class="token function">cssnano</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">preset</span><span class="token operator">:</span> <span class="token string">'cssnano-preset-default'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>When you use a string, if the preset is called <code>cssnano-preset-&lt;name&gt;</code>, you can use <code>name</code> alone:</p>
<pre class="language-js" tabindex="0"><code class="language-js"><span class="token function">cssnano</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">preset</span><span class="token operator">:</span> <span class="token string">'default'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<h3 id="disable-a-plugin-included-in-a-preset" tabindex="-1"><a class="header-anchor" href="#disable-a-plugin-included-in-a-preset">Disable a plugin included in a preset</a></h3>
<p>You can disable one or more of the plugins used in a preset.
Pass an array where the first element is the preset and the second is an object with the preset options.</p>
<pre class="language-js" tabindex="0"><code class="language-js"><span class="token comment">// cssnano.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">preset</span><span class="token operator">:</span> <span class="token punctuation">[</span> 
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'cssnano-preset-default'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">discardComments</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span> 
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>You can also pass preset options when you use the preset name as a string:
For example, here's how to deactivate the <code>discardComments</code> plugin when using the <code>advanced</code> preset:</p>
<pre class="language-js" tabindex="0"><code class="language-js"><span class="token function">cssnano</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 
  <span class="token literal-property property">preset</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">'cssnano-preset-advanced'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">discardComments</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h3 id="use-individual-plugins" tabindex="-1"><a class="header-anchor" href="#use-individual-plugins">Use individual plugins</a></h3>
<ul>
<li><strong>option:</strong> <code>plugins</code></li>
<li><strong>type:</strong> <code>Array&lt;'string' | 'function' | ['string' | 'function', Object&lt;Options for the plugin here&gt;]&gt;</code></li>
</ul>
<p>You can also pass a list of plugins to cssnano.
To configure the individual plugins, use an array of arrays:</p>
<pre class="language-js" tabindex="0"><code class="language-js"><span class="token function">cssnano</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'autoprefixer'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<ul>
<li>
<p><strong>Example:</strong></p>
<pre class="language-js" tabindex="0"><code class="language-js"><span class="token comment">// cssnano.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'autoprefixer'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
  
  <span class="token comment">// or</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'autoprefixer'</span><span class="token punctuation">,</span> <span class="token string">'postcss-preset-env'</span><span class="token punctuation">]</span>
  
  <span class="token comment">// or</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span> 
    <span class="token punctuation">[</span><span class="token string">'autoprefixer'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">remove</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>

  <span class="token comment">// or</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'autoprefixer'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">remove</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span> <span class="token string">'postcss-preset-env'</span><span class="token punctuation">]</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
</li>
</ul>

          
          <p class="annotation">Last updated on Wed, 06 Mar 2024 19:46:46 GMT</p>
        </article>
    </main>
    <footer class="box stack bg-dark">
  <div class="cluster justify-center">
    <div class="stack">
      <h2 class="f4">Docs</h2>
      <ul class="stack">
        <li>
          <a href="/cssnano/docs/introduction/">Guide</a></li>
        <li><a href="/cssnano/docs/what-are-optimisations/">Optimizations</a></li>
        <li><a href="/cssnano/playground/">Playground</a></li>
        <li><a href="/cssnano/docs/support-us/">Support</a></li>
      </ul>
    </div>
    <div class="stack">
      <h2 class="f4">Community</h2>
      <ul class="stack">
        <li><a href="https://stackoverflow.com/questions/tagged/cssnano" target="_blank" rel="noopener noreferrer">Stack Overflow <svg class="icon" width="0.75em" height="0.75em" aria-hidden="true" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li>
        <li><a href="https://gitter.im/postcss/postcss" target="_blank" rel="noopener noreferrer">Gitter <svg class="icon" width="0.75em" height="0.75em" aria-hidden="true" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li>
        <li><a href="https://opencollective.com/cssnano" target="_blank" rel="noopener noreferrer">Donate <svg class="icon" width="0.75em" height="0.75em" aria-hidden="true" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li>
      </ul>
    </div>
    <div class="stack">
      <h2 class="f4">Social</h2>
      <ul class="stack">
        <li><a href="/cssnano/blog/">Blog</a></li>
        <li><a href="https://github.com/cssnano/cssnano" target="_blank" rel="noopener noreferrer">GitHub <svg width="0.75em" height="0.75em" aria-hidden="true" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li>
      </ul>
    </div>
  </div>
  <p class="text-center">Latest release 6.1.2 · Distributed under the MIT License.</p>
</footer>

  </body>
</html>
